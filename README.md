# –†–æ–±–æ—Ç–∞ ‚Ññ12

## **–î–µ—Ä–µ–≤–∞ —É—Ö–≤–∞–ª–µ–Ω–Ω—è —Ä—ñ—à–µ–Ω—å**

–¶—è —Ä–æ–±–æ—Ç–∞ –ø—Ä–∏—Å–≤—è—á–µ–Ω–∞ –ø–æ–±—É–¥–æ–≤—ñ —Ç–∞ –æ–±—Ä–æ–±—Ü—ñ **–¥–µ—Ä–µ–≤ —É—Ö–≤–∞–ª–µ–Ω–Ω—è —Ä—ñ—à–µ–Ω—å (Decision Trees)** –Ω–∞ –æ—Å–Ω–æ–≤—ñ –º–Ω–æ–∂–∏–Ω–∏ –¥–∞–Ω–∏—Ö.
–ü–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –Ω–∞–±—ñ—Ä —Ñ—É–Ω–∫—Ü—ñ–π —É Haskell, —è–∫—ñ:

* –ø—Ä–∞—Ü—é—é—Ç—å –∑ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ —Ç–∞ —Ç–∞–±–ª–∏—Ü—è–º–∏ –¥–∞–Ω–∏—Ö,
* –±—É–¥—É—é—Ç—å —á–∞—Å—Ç–æ—Ç–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ,
* —Ä–æ–∑–±–∏–≤–∞—é—Ç—å –¥–∞–Ω—ñ –∑–∞ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏,
* –æ–±—á–∏—Å–ª—é—é—Ç—å –¥–µ—Ä–µ–≤–æ —Ä—ñ—à–µ–Ω—å,
* –∫–ª–∞—Å–∏—Ñ—ñ–∫—É—é—Ç—å –Ω–æ–≤—ñ –∑–∞–ø–∏—Å–∏,
* –±—É–¥—É—é—Ç—å –¥–µ—Ä–µ–≤–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É.

---

## üìò **–û–ø–∏—Å –∑–∞–¥–∞—á—ñ**

**–î–µ—Ä–µ–≤–æ —É—Ö–≤–∞–ª–µ–Ω–Ω—è —Ä—ñ—à–µ–Ω—å** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∫–ª–∞—Å–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç–∏, –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—á–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —ó—Ö–Ω—ñ—Ö –∞—Ç—Ä–∏–±—É—Ç—ñ–≤.

* –ö–æ–∂–Ω–∏–π **–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –≤—É–∑–æ–ª (Node)** –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∑–Ω–∞—á–µ–Ω–Ω—è –∞—Ç—Ä–∏–±—É—Ç—É.
* –ö–æ–∂–Ω–∞ **–≥—ñ–ª–∫–∞** –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –æ–¥–Ω–æ–º—É –º–æ–∂–ª–∏–≤–æ–º—É –∑–Ω–∞—á–µ–Ω–Ω—é –∞—Ç—Ä–∏–±—É—Ç—É.
* –ö–æ–∂–µ–Ω **–ª–∏—Å—Ç (Leaf)** –º—ñ—Å—Ç–∏—Ç—å –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—é (`"good"` –∞–±–æ `"bad"`).
* –Ø–∫—â–æ –¥–∞–Ω—ñ –ø–æ—Ä–æ–∂–Ω—ñ ‚Üí –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è **Null**.

### **–©–æ –Ω–∞–º –¥–∞–Ω–æ**

* **DataSet** ‚Äî —Ç–∞–±–ª–∏—Ü—è –∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º (Header) —ñ —Ä—è–¥–∫–∞–º–∏ (Row).
* –ö–æ–∂–µ–Ω –∞—Ç—Ä–∏–±—É—Ç –º–∞—î **—ñ–º'—è** —ñ **—Å–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –º–æ–∂–ª–∏–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å**.
* –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∫–ª—é—á–∞—é—Ç—å –¥–∞–Ω—ñ –ø—Ä–æ —Ä–∏–±–∞–ª–∫—É (–ø–æ–≥–æ–¥–∞ ‚Üí –¥–æ–±—Ä–µ/–ø–æ–≥–∞–Ω–æ).

### **–Ø–∫ –±—É–¥—É—î—Ç—å—Å—è –¥–µ—Ä–µ–≤–æ**

1. –û–±–∏—Ä–∞—î—Ç—å—Å—è –∞—Ç—Ä–∏–±—É—Ç –¥–ª—è —Ä–æ–∑–±–∏—Ç—Ç—è (–≤ —Ä–æ–±–æ—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `nextAtt` ‚Üí –ø–µ—Ä—à–∏–π –Ω–µ-–∫–ª–∞—Å–∏—Ñ—ñ–∫—É—é—á–∏–π –∞—Ç—Ä–∏–±—É—Ç).
2. –î–∞–Ω—ñ —Ä–æ–∑–±–∏–≤–∞—é—Ç—å—Å—è –Ω–∞ –ø—ñ–¥—Ç–∞–±–ª–∏—Ü—ñ –∑–∞ –≤—Å—ñ–º–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ –∞—Ç—Ä–∏–±—É—Ç—É.
3. –ê—Ç—Ä–∏–±—É—Ç –≤–∏–ª—É—á–∞—î—Ç—å—Å—è –∑ –ø—ñ–¥—Ç–∞–±–ª–∏—Ü—å.
4. –î–∞–ª—ñ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø–æ–≤—Ç–æ—Ä—é—î—Ç—å—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ.
5. –ó—É–ø–∏–Ω–∫–∞, —è–∫—â–æ:

   * —É—Å—ñ —Ä—è–¥–∫–∏ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π –∫–ª–∞—Å ‚Üí `Leaf value`,
   * –¥–∞–Ω—ñ –ø–æ—Ä–æ–∂–Ω—ñ ‚Üí `Null`.

---

## üß± **–í–∏—Ö—ñ–¥–Ω—ñ —Ç–∏–ø–∏**

```haskell
type AttName = String
type AttValue = String
type Attribute = (AttName, [AttValue])
type Header = [Attribute]
type Row = [AttValue]
type DataSet = (Header, [Row])

data DecisionTree =
    Null
  | Leaf AttValue
  | Node AttName [(AttValue, DecisionTree)]
  deriving (Eq, Show)

type Partition = [(AttValue, DataSet)]
type AttSelector = DataSet -> Attribute -> Attribute
```

### –§—É–Ω–∫—Ü—ñ—è –≤–∏–±–æ—Ä—É –∞—Ç—Ä–∏–±—É—Ç—É

```haskell
nextAtt :: AttSelector
nextAtt (header, _) (classifierName, _) =
    head (filter ((/= classifierName) . fst) header)
```

---

## üß© **–§—É–Ω–∫—Ü—ñ—ó, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏**

### 1Ô∏è‚É£ **allSame**

–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å–ø–∏—Å–∫—É –æ–¥–Ω–∞–∫–æ–≤—ñ.

–ü—Ä–∏–∫–ª–∞–¥–∏:

```haskell
allSame []         == True
allSame [9,9,9]    == True
allSame "abc"      == False
```

---

### 2Ô∏è‚É£ **remove**

–í–∏–¥–∞–ª—è—î –ø–µ—Ä—à—É –ø–∞—Ä—É –∑ –∫–ª—é—á–µ–º `v` –∑—ñ —Å–ø–∏—Å–∫—É `(a, b)`.

```haskell
remove 1 [(3,'a'),(1,'b'),(7,'a')] == [(3,'a'),(7,'a')]
remove 6 []                        == []
```

---

### 3Ô∏è‚É£ **lookUpAtt**

–ü–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –∞—Ç—Ä–∏–±—É—Ç—É –∑ —Ä—è–¥–∫–∞ –∑–≥—ñ–¥–Ω–æ –∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º.

```haskell
lookUpAtt "temp" header (table !! 0) == "hot"
```

---

### 4Ô∏è‚É£ **removeAtt**

–í–∏–¥–∞–ª—è—î –∑–Ω–∞—á–µ–Ω–Ω—è –∞—Ç—Ä–∏–±—É—Ç—É –∑ —Ä—è–¥–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ Header.

```haskell
removeAtt "temp" header (table !! 0)
== ["sunny","high","calm","bad"]
```

---

### 5Ô∏è‚É£ **buildFrequencyTable**

–°—Ç–≤–æ—Ä—é—î —á–∞—Å—Ç–æ—Ç–Ω—É —Ç–∞–±–ª–∏—Ü—é –∑–Ω–∞—á–µ–Ω—å –∞—Ç—Ä–∏–±—É—Ç—É —É –º–Ω–æ–∂–∏–Ω—ñ –¥–∞–Ω–∏—Ö.

```haskell
buildFrequencyTable result fishingData
  == [("good",9),("bad",5)]

buildFrequencyTable outlook fishingData
  == [("sunny",5),("overcast",4),("rainy",5)]
```

---

### 6Ô∏è‚É£ **nodes**

–ü—ñ–¥—Ä–∞—Ö–æ–≤—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤—É–∑–ª—ñ–≤ –¥–µ—Ä–µ–≤–∞ (Node –∞–±–æ Leaf).

```haskell
nodes fig1 == 18
```

---

### 7Ô∏è‚É£ **evalTree**

–û–±—á–∏—Å–ª—é—î –¥–µ—Ä–µ–≤–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä—è–¥–∫–∞.

```haskell
evalTree fig1 header (table !! 5) == "bad"
evalTree fig2 header (table !! 4) == "good"
```

---

### 8Ô∏è‚É£ **partitionData**

–†–æ–∑–±–∏–≤–∞—î –º–Ω–æ–∂–∏–Ω—É –¥–∞–Ω–∏—Ö –∑–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–º.

```haskell
partitionData fishingData outlook == outlookPartition
```

---

### 9Ô∏è‚É£ **buildTree**

–ë—É–¥—É—î –¥–µ—Ä–µ–≤–æ —Ä—ñ—à–µ–Ω—å –∑–≥—ñ–¥–Ω–æ –∑ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º.

```haskell
buildTree result nextAtt fishingData == fig1
```

---

## üìê **–¢–∏–ø–∏ —Ñ—É–Ω–∫—Ü—ñ–π**

```haskell
allSame             :: Eq a => [a] -> Bool 
remove              :: Eq a => a -> [(a, b)] -> [(a,b)] 
lookUpAtt           :: AttName -> Header -> Row -> AttValue
removeAtt           :: AttName -> Header -> Row -> Row
buildFrequencyTable :: Attribute -> DataSet -> [(AttValue, Int)]
nodes               :: DecisionTree -> Int
evalTree            :: DecisionTree -> Header -> Row -> AttValue 
partitionData       :: DataSet -> Attribute -> Partition
buildTree           :: Attribute -> AttSelector -> DataSet -> DecisionTree
```

---

## üìé **–í–∏–º–æ–≥–∏ –¥–æ —Ñ–∞–π–ª—É**

* –Ü–º‚Äô—è —Ñ–∞–π–ª—É: **Family12.hs**
  (–¥–µ *Family* ‚Äî —Ç–≤–æ—î –ø—Ä—ñ–∑–≤–∏—â–µ)
* –ú–æ–¥—É–ª—å –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ç–∞–∫–æ–∂ –ø–æ–≤–∏–Ω–µ–Ω –Ω–∞–∑–∏–≤–∞—Ç–∏—Å—è:

  ```haskell
  module Family12 where
  ```
* –§–∞–π–ª —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **–Ω–∞ –æ—Å–Ω–æ–≤—ñ HWC12.hs**.
* –£—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –ø–æ–≤–∏–Ω–Ω—ñ –∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏—Å—è **–±–µ–∑ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω—å (-Wall)**.